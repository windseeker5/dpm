{% extends "base.html" %}
{% block title %}Dashboard | Activities Overview{% endblock %}

{% block content %}
<div class="container-xl mt-4">


<!-- ðŸ§© Clean Header (No extra space under OVERVIEW) -->
<div class="page-header mb-4">
  <div class="row align-items-center">
    <div class="col">
      <h2 class="page-pretitle text-muted text-uppercase mb-1" style="letter-spacing: 0.05em; font-size: 0.75rem;">
        Overview
      </h2>
      <h1 class="page-title mb-0" style="font-weight: 600; font-size: 1.75rem;">
        Dashboard
      </h1>
    </div>
    <div class="col-auto">
      <a href="{{ url_for('create_activity') }}" class="btn btn-primary">
        <i class="ti ti-plus me-1"></i> Activity
      </a>
    </div>
  </div>
</div>







  <!-- KPI Cards -->
  <div class="kpi-carousel-container">
    <!-- Desktop/Tablet Grid (hidden on mobile) -->
    <div class="row g-3 mb-4 kpi-responsive-grid d-none d-md-flex">
      
      <!-- Revenue -->
    <div class="col-12 col-md-6 col-lg-3">
      <div class="card kpi-card">
        <div class="card-body">
          <div class="d-flex align-items-center justify-content-between">
            <div class="kpi-label">Revenue</div>
            <div class="dropdown">
              <a class="dropdown-toggle" id="revenue-dropdown" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Last 7 days</a>
              <div class="dropdown-menu dropdown-menu-end" aria-labelledby="revenue-dropdown">
                <a class="dropdown-item active revenue-option" href="#" aria-current="true" data-period="7d">Last 7 days</a>
                <a class="dropdown-item revenue-option" href="#" data-period="30d">Last 30 days</a>
                <a class="dropdown-item revenue-option" href="#" data-period="90d">Last 90 days</a>
                <a class="dropdown-item revenue-option" href="#" data-period="all">All time</a>
              </div>
            </div>
          </div>
          <div class="d-flex align-items-center justify-content-between">
            <div class="kpi-value" id="revenue-value">$0</div>
            <div class="kpi-trend text-success" id="revenue-trend">8% â†—</div>
          </div>
          <div class="kpi-chart" id="revenue-sparkline"></div>
        </div>
      </div>
    </div>

    <!-- Active Passports -->
    <div class="col-12 col-md-6 col-lg-3">
      <div class="card kpi-card">
        <div class="card-body">
          <div class="d-flex align-items-center justify-content-between">
            <div class="kpi-label">Active Passports</div>
            <div class="dropdown">
              <a class="dropdown-toggle" id="users-dropdown" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Last 7 days</a>
              <div class="dropdown-menu dropdown-menu-end" aria-labelledby="users-dropdown">
                <a class="dropdown-item active users-option" href="#" aria-current="true" data-period="7d">Last 7 days</a>
                <a class="dropdown-item users-option" href="#" data-period="30d">Last 30 days</a>
                <a class="dropdown-item users-option" href="#" data-period="90d">Last 90 days</a>
                <a class="dropdown-item users-option" href="#" data-period="all">All time</a>
              </div>
            </div>
          </div>
          <div class="d-flex align-items-center justify-content-between">
            <div class="kpi-value" id="users-value">0</div>
            <div class="kpi-trend text-warning" id="users-trend">0% â€”</div>
          </div>
          <div class="kpi-chart" id="users-sparkline"></div>
        </div>
      </div>
    </div>

    <!-- Passports Created -->
    <div class="col-12 col-md-6 col-lg-3">
      <div class="card kpi-card">
        <div class="card-body">
          <div class="d-flex align-items-center justify-content-between">
            <div class="kpi-label">Passports Created</div>
            <div class="dropdown">
              <a class="dropdown-toggle" id="passes-dropdown" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Last 7 days</a>
              <div class="dropdown-menu dropdown-menu-end" aria-labelledby="passes-dropdown">
                <a class="dropdown-item active passes-option" href="#" aria-current="true" data-period="7d">Last 7 days</a>
                <a class="dropdown-item passes-option" href="#" data-period="30d">Last 30 days</a>
                <a class="dropdown-item passes-option" href="#" data-period="90d">Last 90 days</a>
                <a class="dropdown-item passes-option" href="#" data-period="all">All time</a>
              </div>
            </div>
          </div>
          <div class="d-flex align-items-center justify-content-between">
            <div class="kpi-value" id="passes-value">0</div>
            <div class="kpi-trend text-success" id="passes-trend">4% â†—</div>
          </div>
          <div class="kpi-chart" id="passes-sparkline"></div>
        </div>
      </div>
    </div>

    <!-- Pending Signups -->
    <div class="col-12 col-md-6 col-lg-3">
      <div class="card kpi-card">
        <div class="card-body">
          <div class="d-flex align-items-center justify-content-between">
            <div class="kpi-label">Pending Signups</div>
            <div class="dropdown">
              <a class="dropdown-toggle" id="pending-dropdown" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Last 7 days</a>
              <div class="dropdown-menu dropdown-menu-end" aria-labelledby="pending-dropdown">
                <a class="dropdown-item active pending-option" href="#" aria-current="true" data-period="7d">Last 7 days</a>
                <a class="dropdown-item pending-option" href="#" data-period="30d">Last 30 days</a>
                <a class="dropdown-item pending-option" href="#" data-period="90d">Last 90 days</a>
                <a class="dropdown-item pending-option" href="#" data-period="all">All time</a>
              </div>
            </div>
          </div>
          <div class="d-flex align-items-center justify-content-between">
            <div class="kpi-value" id="pending-value">0</div>
            <div class="kpi-trend text-success" id="pending-trend">0% â†—</div>
          </div>
          <div class="kpi-chart" id="pending-sparkline"></div>
        </div>
      </div>
    </div>
    </div>

    <!-- Mobile Carousel (visible only on mobile) -->
    <div id="kpiCarousel" class="carousel slide d-md-none mb-4" data-bs-ride="false" data-bs-touch="true" data-bs-interval="false">
      <div class="carousel-inner">
        
        <!-- Revenue Card -->
        <div class="carousel-item active">
          <div class="px-2">
            <div class="card kpi-card">
              <div class="card-body">
                <div class="d-flex align-items-center justify-content-between">
                  <div class="kpi-label">Revenue</div>
                  <div class="dropdown">
                    <a class="dropdown-toggle" id="revenue-mobile-dropdown" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Last 7 days</a>
                    <div class="dropdown-menu dropdown-menu-end" aria-labelledby="revenue-mobile-dropdown">
                      <a class="dropdown-item active revenue-option" href="#" aria-current="true" data-period="7d">Last 7 days</a>
                      <a class="dropdown-item revenue-option" href="#" data-period="30d">Last 30 days</a>
                      <a class="dropdown-item revenue-option" href="#" data-period="90d">Last 90 days</a>
                      <a class="dropdown-item revenue-option" href="#" data-period="all">All time</a>
                    </div>
                  </div>
                </div>
                <div class="d-flex align-items-center justify-content-between">
                  <div class="kpi-value" id="revenue-mobile-value">$0</div>
                  <div class="kpi-trend text-warning" id="revenue-mobile-trend">0% â€”</div>
                </div>
                <div class="kpi-chart" id="revenue-mobile-sparkline"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Active Passports Card -->
        <div class="carousel-item">
          <div class="px-2">
            <div class="card kpi-card">
              <div class="card-body">
                <div class="d-flex align-items-center justify-content-between">
                  <div class="kpi-label">Active Passports</div>
                  <div class="dropdown">
                    <a class="dropdown-toggle" id="users-mobile-dropdown" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Last 7 days</a>
                    <div class="dropdown-menu dropdown-menu-end" aria-labelledby="users-mobile-dropdown">
                      <a class="dropdown-item active users-option" href="#" aria-current="true" data-period="7d">Last 7 days</a>
                      <a class="dropdown-item users-option" href="#" data-period="30d">Last 30 days</a>
                      <a class="dropdown-item users-option" href="#" data-period="90d">Last 90 days</a>
                      <a class="dropdown-item users-option" href="#" data-period="all">All time</a>
                    </div>
                  </div>
                </div>
                <div class="d-flex align-items-center justify-content-between">
                  <div class="kpi-value" id="users-mobile-value">0</div>
                  <div class="kpi-trend text-warning" id="users-mobile-trend">0% â€”</div>
                </div>
                <div class="kpi-chart" id="users-mobile-sparkline"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Passports Created Card -->
        <div class="carousel-item">
          <div class="px-2">
            <div class="card kpi-card">
              <div class="card-body">
                <div class="d-flex align-items-center justify-content-between">
                  <div class="kpi-label">Passports Created</div>
                  <div class="dropdown">
                    <a class="dropdown-toggle" id="passes-mobile-dropdown" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Last 7 days</a>
                    <div class="dropdown-menu dropdown-menu-end" aria-labelledby="passes-mobile-dropdown">
                      <a class="dropdown-item active passes-option" href="#" aria-current="true" data-period="7d">Last 7 days</a>
                      <a class="dropdown-item passes-option" href="#" data-period="30d">Last 30 days</a>
                      <a class="dropdown-item passes-option" href="#" data-period="90d">Last 90 days</a>
                      <a class="dropdown-item passes-option" href="#" data-period="all">All time</a>
                    </div>
                  </div>
                </div>
                <div class="d-flex align-items-center justify-content-between">
                  <div class="kpi-value" id="passes-mobile-value">0</div>
                  <div class="kpi-trend text-warning" id="passes-mobile-trend">0% â€”</div>
                </div>
                <div class="kpi-chart" id="passes-mobile-sparkline"></div>
              </div>
            </div>
          </div>
        </div>

        <!-- Pending Signups Card -->
        <div class="carousel-item">
          <div class="px-2">
            <div class="card kpi-card">
              <div class="card-body">
                <div class="d-flex align-items-center justify-content-between">
                  <div class="kpi-label">Pending Signups</div>
                  <div class="dropdown">
                    <a class="dropdown-toggle" id="pending-mobile-dropdown" href="#" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Last 7 days</a>
                    <div class="dropdown-menu dropdown-menu-end" aria-labelledby="pending-mobile-dropdown">
                      <a class="dropdown-item active pending-option" href="#" aria-current="true" data-period="7d">Last 7 days</a>
                      <a class="dropdown-item pending-option" href="#" data-period="30d">Last 30 days</a>
                      <a class="dropdown-item pending-option" href="#" data-period="all">All time</a>
                    </div>
                  </div>
                </div>
                <div class="d-flex align-items-center justify-content-between">
                  <div class="kpi-value" id="pending-mobile-value">0</div>
                  <div class="kpi-trend text-warning" id="pending-mobile-trend">0% â€”</div>
                </div>
                <div class="kpi-chart" id="pending-mobile-sparkline"></div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>


  <!-- Title -->
  <div class="d-flex justify-content-between align-items-center mb-4">

    <h2 class="mb-0">
      <i class="ti ti-activity text-pink me-2"></i> Your Active Activities
    </h2>    

  </div>





<!-- Active Activities List -->
<div class="row">

  {% for a in activities %}


<div class="col-md-6 col-xl-4 mb-4">
  <div class="card activity-card h-100 shadow-sm rounded-2 overflow-hidden">

    {% if a.image_filename %}
    <img src="{{ url_for('static', filename='uploads/activity_images/' ~ a.image_filename) }}"
         class="card-img-top" alt="{{ a.name }}"
         style="height: 130px; object-fit: cover;">
    {% endif %}

    <!-- ðŸŒŸ WRAPPER for internal padding -->
    <div class="px-4 pt-3 pb-2">

      <!-- Header Row -->
      <div class="d-flex justify-content-between align-items-start mb-2">
        <div class="fw-semibold text-dark fs-3">
          <i class="ti ti-activity text-pink me-1"></i> {{ a.name }}
        </div>
        {% if a.days_left != "N/A" %}
        <small class="text-muted">{{ a.days_left }}d left</small>
        {% endif %}
      </div>

      <!-- Stats -->
      <div class="row gy-1 gx-2 small text-muted">
        <div class="col-6 d-flex align-items-center"><i class="ti ti-user me-1"></i> {{ a.pending_signups }} Pending</div>
        <div class="col-6 d-flex align-items-center"><i class="ti ti-users me-1"></i> {{ a.signups }} Total</div>

        <div class="col-6 d-flex align-items-center"><i class="ti ti-ticket me-1 text-success"></i> {{ a.active_passports }} Active</div>
        <div class="col-6 d-flex align-items-center"><i class="ti ti-ticket me-1 text-muted"></i> {{ a.passports }} Created</div>

        <div class="col-6 d-flex align-items-center"><i class="ti ti-currency-dollar me-1 text-green"></i> {{ "%.2f"|format(a.paid_amount) }} Paid</div>
        <div class="col-6 d-flex align-items-center"><i class="ti ti-currency-dollar me-1 text-red"></i> {{ "%.2f"|format(a.unpaid_amount) }} Unpaid</div>
      </div>


    </div>

    <!-- Footer -->
    <div class="card-footer border-0 pt-2 pb-3 bg-white">
      <a href="{{ url_for('activity_dashboard', activity_id=a.id) }}" class="btn btn-outline-primary w-100">
        <i class="ti ti-chevron-right me-1"></i> View Details
      </a>
    </div>

  </div>
</div>




{% endfor %}


</div>







<!-- ðŸ”» What's happening  -->
<div class="mt-5">
  <div class="d-flex justify-content-between align-items-center mb-3">
    <h2 class="mb-0" style="font-family: 'Poppins', sans-serif;">
      <i class="ti ti-activity text-pink me-2"></i> What's happening ...
    </h2>
  </div>

  <div class="card transaction-table-card shadow-sm rounded-2 overflow-hidden">
    <div class="table-responsive">
      <table class="table card-table table-vcenter">
        <thead>
          <tr>
            <th class="text-muted">Date/Time</th>
            <th class="text-muted"></th>
            <th class="text-muted d-none d-md-table-cell">Type</th>
            <th class="text-muted">Description</th>
          </tr>
        </thead>
        <tbody>
          {% for log in logs[:25] %}
          <tr>
            <td style="font-size: 0.75rem; color: #6c757d;" class="d-md-table-cell">{{ log.timestamp | utc_to_local | datetimeformat('%Y-%m-%d %H:%M') }}</td>
            <td data-type="{{ log.type }}">
              {% if log.type == 'Passport Redeemed' %}
                <i class="ti ti-ticket text-danger"></i>
              {% elif log.type == 'Email Sent' %}
                <i class="ti ti-mail text-info"></i>
              {% elif log.type == 'Passport Created' %}
                <i class="ti ti-id text-lime"></i>
              {% elif log.type == 'Interact Payment' %}
                <i class="ti ti-currency-dollar text-success"></i>  
              {% elif log.type == 'Marked Paid' %}
                <i class="ti ti-check text-green"></i>  
              {% elif log.type == 'Reminder Sent' %}
                <i class="ti ti-bell text-purple"></i>
              {% elif log.type == 'Signup Submitted' %}
                <i class="ti ti-user-plus text-success"></i>  
              {% elif log.type == 'Signup Approved' %}
                <i class="ti ti-user-check text-green"></i>
              {% elif log.type == 'Signup Rejected' %}
                <i class="ti ti-user-x text-danger"></i>
              {% elif log.type == 'Signup Cancelled' %}
                <i class="ti ti-user-x text-danger"></i>
              {% elif log.type == 'Activity Created' %}
                <i class="ti ti-target text-orange"></i>
              {% elif log.type == 'Admin Action' %}
                <i class="ti ti-settings text-muted"></i>
              {% else %}
                <i class="ti ti-activity text-muted"></i>  
              {% endif %}
            </td>
            <td class="d-none d-md-table-cell">{{ log.type }}</td>
            <td style="font-size: 0.7rem !important; line-height: 1.3 !important; color: #495057 !important;">{{ log.details }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>







</div>


<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function () {
  const kpiData = {{ kpi_data | tojson }};

  function createSparkline(ctxId, chartType, trendList) {
    const container = document.getElementById(ctxId);
    if (!container) return;
    
    // Clear previous chart
    container.innerHTML = '';
    
    // Check if chart should be rendered
    const maxValue = Math.max(...(trendList || [0]));
    
    // Only show chart if we have any meaningful data
    if (!trendList || trendList.length === 0 || maxValue <= 0) {
      // Just leave container empty when no data
      container.style.height = '48px';
      container.style.background = 'transparent';
      return;
    }
    
    // Create canvas element
    const canvas = document.createElement('canvas');
    canvas.width = container.offsetWidth || 280;
    canvas.height = 48;
    container.appendChild(canvas);
    
    const ctx = canvas.getContext("2d");
    new Chart(ctx, {
      type: chartType === "bar" ? "bar" : "line",
      data: {
        labels: trendList.map((_, i) => `Day ${i + 1}`),
        datasets: [{
          data: trendList,
          backgroundColor: chartType === "bar" 
            ? "linear-gradient(135deg, #2563eb, #7c3aed)" 
            : "rgba(37, 99, 235, 0.08)",
          borderColor: "#2563eb",
          fill: chartType === "line",
          tension: 0.4,
          borderWidth: 2.5,
          pointRadius: 0,
          pointHoverRadius: 5,
          pointBackgroundColor: "#2563eb",
          pointBorderColor: "#ffffff",
          pointBorderWidth: 2,
          spanGaps: false
        }]
      },
      options: {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
          legend: { display: false },
          tooltip: { 
            enabled: true,
            mode: 'index',
            intersect: false,
            backgroundColor: 'rgba(15, 23, 42, 0.95)',
            titleColor: '#ffffff',
            bodyColor: '#ffffff',
            borderColor: '#2563eb',
            borderWidth: 1,
            cornerRadius: 12,
            displayColors: false,
            padding: 12,
            caretPadding: 8,
            caretSize: 6,
            callbacks: {
              title: function(context) {
                return context[0].label;
              },
              label: function(context) {
                const metric = ctxId.replace('-sparkline', '');
                if (metric === 'revenue') {
                  // For revenue, show actual dollar amount not quantity
                  return `$${context.parsed.y.toLocaleString()}`;
                } else {
                  // For other metrics, show the number
                  return `${context.parsed.y.toLocaleString()}`;
                }
              }
            }
          }
        },
        scales: {
          x: { 
            display: false,
            grid: { 
              display: false,
              drawBorder: false,
              drawOnChartArea: false,
              drawTicks: false
            },
            border: { display: false },
            ticks: { display: false }
          },
          y: { 
            display: false,
            grid: { 
              display: false,
              drawBorder: false,
              drawOnChartArea: false,
              drawTicks: false
            },
            border: { display: false },
            ticks: { display: false },
            beginAtZero: true
          }
        },
        elements: {
          point: { radius: 0, hoverRadius: 4 },
          line: { borderWidth: 2 },
          bar: { borderRadius: 2 }
        },
        layout: {
          padding: 4
        },
        interaction: {
          intersect: false,
          mode: 'index'
        }
      }
    });
  }

  function updateCard(id, metric, period, chartType) {
    const current = kpiData[period][metric];
    const previous = kpiData[period][`${metric}_prev`] || 0;
    const trendList = kpiData[period][`${metric}_trend`] || [];
    const percent = previous > 0 ? ((current - previous) / previous * 100).toFixed(1) : "0.0";

    const val = metric === "revenue" ? `$${current.toLocaleString()}` : current;
    const trendElement = document.querySelector(`#${id}-trend`);
    const valueElement = document.querySelector(`#${id}-value`);
    const dropdownElement = document.querySelector(`#${id}-dropdown`);
    
    // Check if elements exist before updating
    if (!trendElement || !valueElement || !dropdownElement) {
      console.warn(`Card elements not found for ID: ${id}`);
      return;
    }
    
    // Fix trend colors and icons like Tabler reference
    let trendClass, arrow;
    if (parseFloat(percent) === 0) {
      trendClass = 'text-warning'; // Orange for 0%
      arrow = 'â€”'; // Dash for no change
    } else if (parseFloat(percent) > 0) {
      trendClass = 'text-success'; // Green for positive
      arrow = 'â†—';
    } else {
      trendClass = 'text-danger'; // Red for negative
      arrow = 'â†˜';
    }
    
    // Update value
    valueElement.textContent = val;
    
    // Update trend with proper styling
    trendElement.className = `${trendClass} d-flex align-items-center`;
    trendElement.style.fontSize = '0.875rem';
    trendElement.style.fontWeight = '500';
    trendElement.textContent = `${percent}% ${arrow}`;

    // Update dropdown text and active state
    const periodText = {
      "7d": "Last 7 days",
      "30d": "Last 30 days", 
      "90d": "Last 90 days",
      "all": "All time"
    }[period];
    
    dropdownElement.textContent = periodText;
    
    // Update active dropdown item - handle both desktop and mobile selectors
    const optionClass = id.includes('-mobile') ? `.${id.replace('-mobile', '')}-option-mobile` : `.${id}-option`;
    document.querySelectorAll(optionClass).forEach(item => {
      item.classList.remove('active');
      item.removeAttribute('aria-current');
      if (item.dataset.period === period) {
        item.classList.add('active');
        item.setAttribute('aria-current', 'true');
      }
    });

    createSparkline(`${id}-sparkline`, chartType, trendList);
  }

  [
    { id: "revenue", metric: "revenue", selector: ".revenue-option", chartType: "line" },
    { id: "passes", metric: "pass_created", selector: ".passes-option", chartType: "bar" },
    { id: "users", metric: "active_users", selector: ".users-option", chartType: "bar" },
    { id: "pending", metric: "pending_signups", selector: ".pending-option", chartType: "bar" }
  ].forEach(({ id, metric, selector, chartType }) => {
    document.querySelectorAll(selector).forEach(el => {
      el.addEventListener("click", () => {
        // Update desktop card
        updateCard(id, metric, el.dataset.period, chartType);
        // Update mobile card if it exists
        if (document.querySelector(`#${id}-mobile-value`)) {
          updateCard(id + "-mobile", metric, el.dataset.period, chartType);
        }
      });
    });
    
    // Initialize desktop card
    updateCard(id, metric, "7d", chartType);
    
    // Initialize mobile card if it exists
    if (document.querySelector(`#${id}-mobile-value`)) {
      updateCard(id + "-mobile", metric, "7d", chartType);
    }
  });

  // Initialize mobile carousel with proper touch settings
  const kpiCarousel = document.getElementById('kpiCarousel');
  if (kpiCarousel) {
    // Initialize Bootstrap carousel with touch support
    const carousel = new bootstrap.Carousel(kpiCarousel, {
      interval: false,
      ride: false,
      touch: true,
      wrap: true
    });
    
    
    // Additional touch event handling for better mobile experience
    let startX = null;
    let startY = null;
    
    kpiCarousel.addEventListener('touchstart', function(e) {
      startX = e.touches[0].clientX;
      startY = e.touches[0].clientY;
    }, { passive: true });
    
    kpiCarousel.addEventListener('touchmove', function(e) {
      if (!startX || !startY) {
        return;
      }
      
      const diffX = startX - e.touches[0].clientX;
      const diffY = startY - e.touches[0].clientY;
      
      // If horizontal swipe is more prominent than vertical, prevent default
      if (Math.abs(diffX) > Math.abs(diffY)) {
        e.preventDefault();
      }
    }, { passive: false });
    
    kpiCarousel.addEventListener('touchend', function() {
      startX = null;
      startY = null;
    }, { passive: true });
  }

});
</script>



{% endblock %}

{% block styles %}
<style>
/* Mobile Carousel Styles */
@media (max-width: 767.98px) {
  .carousel-inner {
    touch-action: pan-x !important;
  }
  
  .carousel-item {
    transition: transform 0.3s ease-in-out !important;
  }
  
  #kpiCarousel {
    user-select: none;
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
    position: relative;
    overflow: hidden;
  }
  
  #kpiCarousel .carousel-inner {
    overflow: hidden;
  }
  
  #kpiCarousel .carousel-item {
    -webkit-user-select: none;
    -moz-user-select: none;
    -ms-user-select: none;
    user-select: none;
  }
}
</style>
{% endblock %}




