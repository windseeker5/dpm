<!-- Organization Settings with Tabler.io -->



<div class="card mb-4">
  <div class="card-body">

    <!-- Organization Name -->
    <div class="mb-3">
      <label class="form-label">Organization Name</label>
      <input type="text" name="ORG_NAME" class="form-control" value="{{ settings.get('ORG_NAME', '') }}">
    </div>

    <!-- Call-Back Days -->
    <div class="mb-3">
      <label class="form-label">Call-Back Delay (days) if unpaid</label>
      <input type="number" name="CALL_BACK_DAYS" class="form-control" min="0" value="{{ settings.get('CALL_BACK_DAYS', '0') }}">
    </div>

    <!-- Default Pass Settings -->
    <div class="mb-3">
      <label class="form-label">Default Pass Amount ($)</label>
      <input type="number" name="default_pass_amount" class="form-control" min="0" value="{{ settings.get('DEFAULT_PASS_AMOUNT', '50') }}">
    </div>

    <div class="mb-3">
      <label class="form-label">Default Session Quantity</label>
      <input type="number" name="default_session_qt" class="form-control" min="1" value="{{ settings.get('DEFAULT_SESSION_QT', '4') }}">
    </div>

    <!-- Email Templates Text -->
    <div class="mb-3">
      <label class="form-label">Email Info Text</label>
      <textarea name="email_info_text" class="form-control" rows="3" placeholder="Additional info text for emails">{{ settings.get('EMAIL_INFO_TEXT', '') }}</textarea>
    </div>

    <div class="mb-3">
      <label class="form-label">Email Footer Text</label>
      <textarea name="email_footer_text" class="form-control" rows="3" placeholder="Footer text for emails">{{ settings.get('EMAIL_FOOTER_TEXT', '') }}</textarea>
    </div>

    <!-- Activity Tags -->
    <div class="mb-3">
      <label class="form-label">Activity Tags (comma-separated)</label>
      <input type="text" name="activities" class="form-control" value="{% if settings.get('ACTIVITY_LIST') %}{{ settings.ACTIVITY_LIST | replace('["', '') | replace('"]', '') | replace('"', '') | replace(',', ', ') }}{% endif %}" placeholder="swimming, running, cycling, yoga">
      <div class="form-text">Enter activity categories separated by commas</div>
    </div>

    <!-- Logo Upload -->
    <div class="mb-3">
      <label class="form-label">Upload Logo</label>
    
      <div class="mb-2">
        <img id="logo-preview" 
             src="{{ url_for('static', filename='uploads/' ~ settings.LOGO_FILENAME) if settings.LOGO_FILENAME else '' }}" 
             alt="Logo Preview"
             style="max-height: 80px; display: {{ 'block' if settings.LOGO_FILENAME else 'none' }};">
      </div>
    
      <input type="file" name="ORG_LOGO_FILE" class="form-control" accept="image/*" id="logo-file-input">
    </div>
    
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const fileInput = document.getElementById("logo-file-input");
        const preview = document.getElementById("logo-preview");
      
        if (fileInput && preview) {
          fileInput.addEventListener("change", function (event) {
            const file = event.target.files[0];
            if (file && file.type.startsWith("image/")) {
              const reader = new FileReader();
              reader.onload = function (e) {
                preview.src = e.target.result;
                preview.style.display = "block";
              };
              reader.readAsDataURL(file);
            } else {
              preview.src = "";
              preview.style.display = "none";
            }
          });
        }
      });
      </script>
      






  </div>
</div>

