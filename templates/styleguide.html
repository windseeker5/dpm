{% extends "base.html" %}
{% block title %}Style Guide | minipass Design System{% endblock %}

{% block content %}
<div class="container-xl mt-4">
  <!-- Header -->
  <div class="page-header mb-5">
    <div class="row align-items-center">
      <div class="col">
        <h2 class="page-pretitle text-muted text-uppercase mb-1" style="letter-spacing: 0.05em; font-size: 0.75rem;">
          Design System
        </h2>
        <h1 class="page-title mb-0" style="font-weight: 600; font-size: 1.75rem;">
          minipass Style Guide
        </h1>
        <p class="text-muted mt-2">Components, patterns, and guidelines for the minipass Activities Management Platform</p>
      </div>
    </div>
  </div>

  <!-- Navigation -->
  <div class="row mb-5">
    <div class="col-12">
      <div class="nav nav-pills">
        <a href="#brand-colors" class="nav-link active">Brand Colors</a>
        <a href="#typography" class="nav-link">Typography</a>
        <a href="#buttons" class="nav-link">Buttons</a>
        <a href="#cards" class="nav-link">Cards</a>
        <a href="#forms" class="nav-link">Forms</a>
        <a href="#alerts" class="nav-link">Alerts</a>
        <a href="#kpi-cards" class="nav-link">KPI Cards</a>
        <a href="#dos-donts" class="nav-link">Do's & Don'ts</a>
      </div>
    </div>
  </div>

  <!-- Brand Colors Section -->
  <section id="brand-colors" class="mb-5">
    <h2 class="mb-4">Brand Colors</h2>
    <div class="card">
      <div class="card-body">
        <div class="row g-3">
          <!-- Primary Blue -->
          <div class="col-md-3 col-sm-6">
            <div class="color-box" style="background: #2563eb; height: 100px; border-radius: 8px;"></div>
            <div class="mt-2">
              <h5 class="mb-1">Primary Blue</h5>
              <code>#2563eb</code>
              <p class="text-muted small mb-0">Main brand color</p>
            </div>
          </div>
          
          <!-- Secondary Purple -->
          <div class="col-md-3 col-sm-6">
            <div class="color-box" style="background: #7c3aed; height: 100px; border-radius: 8px;"></div>
            <div class="mt-2">
              <h5 class="mb-1">Secondary Purple</h5>
              <code>#7c3aed</code>
              <p class="text-muted small mb-0">Gradient accent</p>
            </div>
          </div>
          
          <!-- Brand Gradient -->
          <div class="col-md-3 col-sm-6">
            <div class="color-box" style="background: linear-gradient(135deg, #2563eb, #7c3aed); height: 100px; border-radius: 8px;"></div>
            <div class="mt-2">
              <h5 class="mb-1">Brand Gradient</h5>
              <code>linear-gradient(135deg, #2563eb, #7c3aed)</code>
              <p class="text-muted small mb-0">Header & accents</p>
            </div>
          </div>
          
          <!-- Border Color -->
          <div class="col-md-3 col-sm-6">
            <div class="color-box" style="background: #e6e7e9; height: 100px; border-radius: 8px;"></div>
            <div class="mt-2">
              <h5 class="mb-1">Border Color</h5>
              <code>#e6e7e9</code>
              <p class="text-muted small mb-0">Cards & inputs</p>
            </div>
          </div>
        </div>
        
        <!-- Copy-paste CSS Variables -->
        <div class="mt-4">
          <h5>CSS Variables</h5>
          <pre class="bg-light p-3 rounded"><code>/* Brand Colors */
--minipass-primary: #2563eb;
--minipass-secondary: #7c3aed;
--minipass-gradient: linear-gradient(135deg, #2563eb, #7c3aed);
--minipass-border: #e6e7e9;</code></pre>
        </div>
      </div>
    </div>
  </section>

  <!-- Typography Section -->
  <section id="typography" class="mb-5">
    <h2 class="mb-4">Typography</h2>
    <div class="card">
      <div class="card-body">
        <div class="row">
          <div class="col-lg-6">
            <h5 class="mb-3">Font Family</h5>
            <p class="mb-4">Primary: <strong>Inter</strong> - Professional, clean, highly readable</p>
            
            <h5 class="mb-3">Headings</h5>
            <h1 class="mb-2">Heading 1 - 1.75rem</h1>
            <h2 class="mb-2">Heading 2 - 1.5rem</h2>
            <h3 class="mb-2">Heading 3 - 1.25rem</h3>
            <h4 class="mb-2">Heading 4 - 1.125rem</h4>
            <h5 class="mb-2">Heading 5 - 1rem</h5>
            <h6 class="mb-4">Heading 6 - 0.875rem</h6>
          </div>
          
          <div class="col-lg-6">
            <h5 class="mb-3">Text Styles</h5>
            <p class="mb-2">Regular body text - 0.875rem</p>
            <p class="small mb-2">Small text - 0.75rem</p>
            <p class="text-muted mb-2">Muted text - #6c757d</p>
            <p class="text-uppercase mb-2" style="letter-spacing: 0.05em;">Uppercase Label</p>
            <p class="fw-semibold mb-2">Semibold text - font-weight: 600</p>
            <p class="fw-bold mb-4">Bold text - font-weight: 700</p>
            
            <h5 class="mb-3">Organization Name Style</h5>
            <p class="org-name-responsive">ORGANIZATION NAME</p>
            <pre class="bg-light p-3 rounded mt-3"><code>.org-name-responsive {
  font-family: "Inter", system-ui, -apple-system, sans-serif;
  font-weight: 600;
  font-size: 1.2rem;
  text-transform: uppercase;
  letter-spacing: 0.025em;
  color: rgba(255, 255, 255, 0.95);
}</code></pre>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Buttons Section -->
  <section id="buttons" class="mb-5">
    <h2 class="mb-4">Buttons</h2>
    <div class="card">
      <div class="card-body">
        <div class="row">
          <div class="col-lg-6">
            <h5 class="mb-3">Primary Buttons</h5>
            <button class="btn btn-primary me-2 mb-2">Primary Button</button>
            <button class="btn btn-primary me-2 mb-2">
              <i class="ti ti-plus me-1"></i> With Icon
            </button>
            <button class="btn btn-primary me-2 mb-2" disabled>Disabled</button>
            
            <h5 class="mb-3 mt-4">Secondary Buttons</h5>
            <button class="btn btn-secondary me-2 mb-2">Secondary</button>
            <button class="btn btn-outline-primary me-2 mb-2">Outline</button>
            <button class="btn btn-ghost-primary me-2 mb-2">Ghost</button>
            
            <h5 class="mb-3 mt-4">Status Buttons</h5>
            <button class="btn btn-success me-2 mb-2">Success</button>
            <button class="btn btn-warning me-2 mb-2">Warning</button>
            <button class="btn btn-danger me-2 mb-2">Danger</button>
          </div>
          
          <div class="col-lg-6">
            <h5 class="mb-3">Button Code</h5>
            <pre class="bg-light p-3 rounded"><code>&lt;!-- Primary Button --&gt;
&lt;button class="btn btn-primary"&gt;
  Primary Button
&lt;/button&gt;

&lt;!-- Button with Icon --&gt;
&lt;button class="btn btn-primary"&gt;
  &lt;i class="ti ti-plus me-1"&gt;&lt;/i&gt; Add Activity
&lt;/button&gt;

&lt;!-- Outline Button --&gt;
&lt;button class="btn btn-outline-primary"&gt;
  View Details
&lt;/button&gt;</code></pre>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Cards Section -->
  <section id="cards" class="mb-5">
    <h2 class="mb-4">Cards</h2>
    <div class="row">
      <div class="col-lg-6">
        <h5 class="mb-3">Basic Card</h5>
        <div class="card">
          <div class="card-body">
            <h5 class="card-title">Card Title</h5>
            <p class="card-text">This is a basic card with rounded corners (8px) and subtle shadow.</p>
            <a href="#" class="btn btn-primary">Action</a>
          </div>
        </div>
      </div>
      
      <div class="col-lg-6">
        <h5 class="mb-3">Card Code</h5>
        <pre class="bg-light p-3 rounded"><code>&lt;div class="card"&gt;
  &lt;div class="card-body"&gt;
    &lt;h5 class="card-title"&gt;Card Title&lt;/h5&gt;
    &lt;p class="card-text"&gt;Card content&lt;/p&gt;
    &lt;a href="#" class="btn btn-primary"&gt;Action&lt;/a&gt;
  &lt;/div&gt;
&lt;/div&gt;</code></pre>
        
        <div class="alert alert-warning mt-3">
          <i class="ti ti-alert-circle me-2"></i>
          <strong>Important:</strong> Never use <code>overflow: hidden</code> on cards with dropdowns!
        </div>
      </div>
    </div>
  </section>

  <!-- KPI Cards Section -->
  <section id="kpi-cards" class="mb-5">
    <h2 class="mb-4">KPI Cards</h2>
    <div class="row mb-4">
      <div class="col-md-6 col-lg-3">
        <div class="card kpi-card">
          <div class="card-body">
            <div class="d-flex align-items-center justify-content-between">
              <div class="kpi-label">Revenue</div>
              <div class="dropdown">
                <a class="dropdown-toggle text-secondary" href="#" data-bs-toggle="dropdown" style="text-decoration: none; font-size: 0.75rem;">Last 7 days</a>
                <div class="dropdown-menu dropdown-menu-end">
                  <a class="dropdown-item active" href="#">Last 7 days</a>
                  <a class="dropdown-item" href="#">Last 30 days</a>
                  <a class="dropdown-item" href="#">Last 90 days</a>
                </div>
              </div>
            </div>
            <div class="d-flex align-items-center justify-content-between mb-2">
              <div class="kpi-value">$4,300</div>
              <div class="kpi-trend text-success">8% ↗</div>
            </div>
            <div class="kpi-chart">
              <div style="height: 48px; background: linear-gradient(to top, rgba(37, 99, 235, 0.1), transparent);"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="card">
      <div class="card-body">
        <h5 class="mb-3">KPI Card Rules (CRITICAL!)</h5>
        <ol>
          <li><strong>NO overflow: hidden</strong> - This blocks dropdowns</li>
          <li><strong>NO custom z-index</strong> - Let Bootstrap handle it</li>
          <li><strong>Use border-radius: 8px</strong> - Force with !important if needed</li>
          <li><strong>Keep CSS minimal</strong> - Trust Tabler.io defaults</li>
        </ol>
        
        <h5 class="mb-3 mt-4">KPI Card CSS</h5>
        <pre class="bg-light p-3 rounded"><code>/* KPI Card - Minimal approach that works */
.kpi-card {
  border-radius: 8px !important;
  /* NO overflow: hidden! */
}

.kpi-value {
  font-size: 1.5rem;
  font-weight: 600;
}

.kpi-label {
  font-size: 0.75rem;
  text-transform: uppercase;
}

.kpi-trend {
  font-size: 0.875rem;
  font-weight: 500;
}

.kpi-chart {
  height: 48px;
  margin-top: 0.75rem;
}</code></pre>
      </div>
    </div>
  </section>

  <!-- Do's and Don'ts Section -->
  <section id="dos-donts" class="mb-5">
    <h2 class="mb-4">Do's and Don'ts</h2>
    <div class="row">
      <div class="col-lg-6">
        <div class="card border-success">
          <div class="card-header bg-success text-white">
            <i class="ti ti-check me-2"></i>Do's
          </div>
          <div class="card-body">
            <ul>
              <li>✅ Use <code>border-radius: 8px</code> for all cards</li>
              <li>✅ Let Bootstrap handle dropdown z-index</li>
              <li>✅ Use Inter font for all text</li>
              <li>✅ Apply brand gradient to headers</li>
              <li>✅ Keep CSS minimal and semantic</li>
              <li>✅ Test on mobile devices</li>
              <li>✅ Force clear cache after CSS updates</li>
            </ul>
          </div>
        </div>
      </div>
      
      <div class="col-lg-6">
        <div class="card border-danger">
          <div class="card-header bg-danger text-white">
            <i class="ti ti-x me-2"></i>Don'ts
          </div>
          <div class="card-body">
            <ul>
              <li>❌ Never use <code>overflow: hidden</code> on cards with dropdowns</li>
              <li>❌ Don't fight Bootstrap's z-index management</li>
              <li>❌ Avoid inline styles when possible</li>
              <li>❌ Don't override Tabler.io without good reason</li>
              <li>❌ Never use Anton font (use Inter instead)</li>
              <li>❌ Don't forget mobile responsiveness</li>
              <li>❌ Avoid complex CSS specificity wars</li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Quick Reference Section -->
  <section id="quick-reference" class="mb-5">
    <h2 class="mb-4">Quick Reference</h2>
    <div class="card">
      <div class="card-body">
        <h5 class="mb-3">Common Classes</h5>
        <div class="table-responsive">
          <table class="table">
            <thead>
              <tr>
                <th>Class</th>
                <th>Purpose</th>
                <th>Example</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td><code>.card</code></td>
                <td>Basic card container</td>
                <td>8px rounded corners, white background</td>
              </tr>
              <tr>
                <td><code>.kpi-card</code></td>
                <td>KPI metric card</td>
                <td>Dashboard metrics display</td>
              </tr>
              <tr>
                <td><code>.btn-primary</code></td>
                <td>Primary action button</td>
                <td>Blue background (#206bc4)</td>
              </tr>
              <tr>
                <td><code>.text-muted</code></td>
                <td>Secondary text</td>
                <td>Gray color (#6c757d)</td>
              </tr>
              <tr>
                <td><code>.org-name-responsive</code></td>
                <td>Organization name in header</td>
                <td>Uppercase, Inter font, 1.2rem</td>
              </tr>
            </tbody>
          </table>
        </div>
        
        <h5 class="mb-3 mt-4">Spacing Utilities</h5>
        <p>Use Bootstrap spacing utilities: <code>m-1</code> to <code>m-5</code>, <code>p-1</code> to <code>p-5</code></p>
        <p>Example: <code>mb-4</code> = margin-bottom 1.5rem</p>
      </div>
    </div>
  </section>

</div>

<style>
/* Style guide specific styles */
.nav-pills .nav-link {
  color: #495057;
  background-color: transparent;
  border: 1px solid transparent;
}

.nav-pills .nav-link.active {
  color: #fff;
  background: linear-gradient(135deg, #2563eb, #7c3aed);
  border-color: transparent;
}

.color-box {
  border: 1px solid #e6e7e9;
  display: flex;
  align-items: center;
  justify-content: center;
  color: white;
  font-weight: 600;
}

pre code {
  font-size: 0.875rem;
  line-height: 1.5;
}

section {
  scroll-margin-top: 80px;
}
</style>

<script>
// Smooth scroll for navigation
document.addEventListener('DOMContentLoaded', function() {
  const links = document.querySelectorAll('.nav-pills .nav-link');
  
  links.forEach(link => {
    link.addEventListener('click', function(e) {
      e.preventDefault();
      
      // Update active state
      links.forEach(l => l.classList.remove('active'));
      this.classList.add('active');
      
      // Smooth scroll
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({ behavior: 'smooth' });
      }
    });
  });
});
</script>
{% endblock %}