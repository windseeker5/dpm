<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Example Buttons Functionality</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 800px;
            margin: 40px auto;
            padding: 20px;
            background: #f8f9fa;
        }
        .test-section {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin: 20px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .status {
            padding: 10px 15px;
            border-radius: 6px;
            margin: 10px 0;
            font-weight: 500;
        }
        .success { background: #d4edda; color: #155724; border: 1px solid #c3e6cb; }
        .error { background: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; }
        .info { background: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; }
        .test-button {
            background: #206bc4;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            margin: 10px;
            font-size: 14px;
        }
        .test-button:hover {
            background: #1a5b8d;
        }
        code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'Courier New', monospace;
        }
        .iframe-container {
            border: 2px solid #dee2e6;
            border-radius: 8px;
            overflow: hidden;
            margin: 20px 0;
        }
        iframe {
            width: 100%;
            height: 600px;
            border: none;
        }
        .instructions {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            color: #856404;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <div class="test-section">
        <h1>üß™ Analytics Chatbot Fixes Verification</h1>
        <p>This page helps verify that all the requested fixes have been implemented correctly.</p>
        
        <div class="status info">
            <strong>‚ÑπÔ∏è Testing Environment:</strong> http://127.0.0.1:8890/chatbot/
        </div>
        
        <div class="instructions">
            <h3>üìã Manual Testing Checklist</h3>
            <p>Please verify the following fixes by visiting the chatbot page:</p>
            <ol>
                <li><strong>Title Styling:</strong> "How can I help you today?" should be larger (3.5rem) with gradient ending in orange</li>
                <li><strong>Sparkle Icon:</strong> Should be bigger (2.5rem) and bright yellow (#FFFF00)</li>
                <li><strong>Model Dropdown:</strong> Should be positioned at TOP-LEFT of search box with reduced height</li>
                <li><strong>Placeholder Position:</strong> Should appear in the textarea (middle of search box)</li>
                <li><strong>Example Buttons:</strong> All three buttons should populate the textarea when clicked</li>
            </ol>
        </div>
        
        <button class="test-button" onclick="openChatbot()">üöÄ Open Chatbot Page</button>
        <button class="test-button" onclick="runAutomatedCheck()">ü§ñ Run Automated Checks</button>
    </div>
    
    <div class="test-section">
        <h2>üîç Automated Verification Results</h2>
        <div id="testResults">
            <div class="status info">Click "Run Automated Checks" to verify the fixes</div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>üì± Live Preview</h2>
        <p>Test the example buttons directly in the iframe below:</p>
        <div class="iframe-container">
            <iframe src="http://127.0.0.1:8890/chatbot/" id="chatbotFrame"></iframe>
        </div>
    </div>

    <script>
        function openChatbot() {
            window.open('http://127.0.0.1:8890/chatbot/', '_blank');
        }
        
        async function runAutomatedCheck() {
            const resultsDiv = document.getElementById('testResults');
            resultsDiv.innerHTML = '<div class="status info">üîÑ Running checks...</div>';
            
            try {
                // Fetch the chatbot page content
                const response = await fetch('/chatbot/');
                const html = await response.text();
                
                let results = [];
                
                // Check title size
                if (html.includes('font-size: 3.5rem')) {
                    results.push('<div class="status success">‚úÖ Title size increased to 3.5rem</div>');
                } else {
                    results.push('<div class="status error">‚ùå Title size not updated</div>');
                }
                
                // Check sparkle icon size
                if (html.includes('font-size: 2.5rem') && html.includes('.sparkle-icon')) {
                    results.push('<div class="status success">‚úÖ Sparkle icon size increased</div>');
                } else {
                    results.push('<div class="status error">‚ùå Sparkle icon size not updated</div>');
                }
                
                // Check gradient
                if (html.includes('#fd7e14')) {
                    results.push('<div class="status success">‚úÖ Gradient updated with orange ending</div>');
                } else {
                    results.push('<div class="status error">‚ùå Gradient not updated</div>');
                }
                
                // Check model dropdown position
                if (html.includes('grid-row: 1') && html.includes('justify-self: start')) {
                    results.push('<div class="status success">‚úÖ Model dropdown moved to top-left</div>');
                } else {
                    results.push('<div class="status error">‚ùå Model dropdown position not updated</div>');
                }
                
                // Check textarea position
                if (html.includes('grid-row: 2') && html.includes('message-input-large')) {
                    results.push('<div class="status success">‚úÖ Textarea positioned correctly</div>');
                } else {
                    results.push('<div class="status error">‚ùå Textarea position not updated</div>');
                }
                
                // Check example button function
                if (html.includes('sendExample') && html.includes('dispatchEvent')) {
                    results.push('<div class="status success">‚úÖ Example button function improved</div>');
                } else {
                    results.push('<div class="status error">‚ùå Example button function not found</div>');
                }
                
                resultsDiv.innerHTML = results.join('');
                
            } catch (error) {
                resultsDiv.innerHTML = `<div class="status error">‚ùå Error running checks: ${error.message}</div>`;
            }
        }
        
        // Auto-run checks when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(runAutomatedCheck, 1000);
        });
    </script>
</body>
</html>